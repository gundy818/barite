<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="generator" content="Crystal Docs 0.36.1">
<meta name="crystal_docs.project_version" content="HEAD">
<meta name="crystal_docs.project_name" content="barite">



<link href="../css/style.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="../js/doc.js"></script>

  <meta name="repository-name" content="barite">
  <title>Barite::B2 - barite HEAD</title>
  <script type="text/javascript">
    CrystalDocs.base_path = "../";
  </script>
</head>
<body>

<svg class="hidden">
  <symbol id="octicon-link" viewBox="0 0 16 16">
    <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
  </symbol>
</svg>
<div class="sidebar">
  <div class="sidebar-header">
    <div class="search-box">
      <input type="search" class="search-input" placeholder="Search..." spellcheck="false" aria-label="Search">
    </div>

    <div class="project-summary">
      <h1 class="project-name">
        <a href="../index.html">
          barite
        </a>
      </h1>

      <span class="project-version">
        HEAD
      </span>
    </div>
  </div>

  <div class="search-results hidden">
    <ul class="search-list"></ul>
  </div>

  <div class="types-list">
    <ul>
  
  <li class="parent open current" data-id="barite/Barite" data-name="barite">
      <a href="../Barite.html">Barite</a>
      
        <ul>
  
  <li class=" " data-id="barite/Barite/AuthenticationException" data-name="barite::authenticationexception">
      <a href="../Barite/AuthenticationException.html">AuthenticationException</a>
      
    </li>
  
  <li class=" current" data-id="barite/Barite/B2" data-name="barite::b2">
      <a href="../Barite/B2.html">B2</a>
      
    </li>
  
  <li class=" " data-id="barite/Barite/B2File" data-name="barite::b2file">
      <a href="../Barite/B2File.html">B2File</a>
      
    </li>
  
  <li class=" " data-id="barite/Barite/Exception" data-name="barite::exception">
      <a href="../Barite/Exception.html">Exception</a>
      
    </li>
  
  <li class=" " data-id="barite/Barite/NotFoundException" data-name="barite::notfoundexception">
      <a href="../Barite/NotFoundException.html">NotFoundException</a>
      
    </li>
  
</ul>

      
    </li>
  
</ul>

  </div>
</div>


<div class="main-content">
<h1 class="type-name">

  <span class="kind">class</span> Barite::B2

</h1>


  <ul class="superclass-hierarchy"><li class="superclass"><a href="../Barite/B2.html">Barite::B2</a></li><li class="superclass">Reference</li><li class="superclass">Object</li></ul>




  <h2>
    <a id="overview" class="anchor" href="#overview">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>
    Overview
  </h2>

  <p>The B2 class is the main API interface.</p>

<p>This object is lazy, in that it will only access Backblaze whien it needs to. If you
just create the object then destroy it, no connections will be made to Backblaze.</p>

<p>This also means that you wont know that your authentication is correct until you
make an access.</p>














  <h2>
    <a id="defined-in" class="anchor" href="#defined-in">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>
    Defined in:
  </h2>
  
    
      <a href="https://github.com/gundy818/barite/blob/d524e282ebcee53426cad733c3c8a1ba02b73ca3/src/barite.cr#L21" target="_blank">
        barite.cr
      </a>
    
    <br/>
  





  <h2>
    <a id="constructors" class="anchor" href="#constructors">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>
    Constructors
  </h2>
  <ul class="list-summary">
    
      <li class="entry-summary">
        <a href="#new(key_id:String,key:String)-class-method" class="signature"><strong>.new</strong>(key_id : String, key : String)</a>
        
          <div class="summary"><p>Initialise with authentication keys.</p></div>
        
      </li>
    
  </ul>





  <h2>
    <a id="instance-method-summary" class="anchor" href="#instance-method-summary">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>
    Instance Method Summary
  </h2>
  <ul class="list-summary">
    
      <li class="entry-summary">
        <a href="#account_id:String-instance-method" class="signature"><strong>#account_id</strong> : String</a>
        
          <div class="summary"><p>Retrieve the account_id.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#api_token:String-instance-method" class="signature"><strong>#api_token</strong> : String</a>
        
          <div class="summary"><p>Retrieve the API token.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#api_url:String-instance-method" class="signature"><strong>#api_url</strong> : String</a>
        
          <div class="summary"><p>Retrieve the API URL.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#authorize_account-instance-method" class="signature"><strong>#authorize_account</strong></a>
        
          <div class="summary"><p>Access backblaze to authenticate.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#file(bucket_name:String,file_name:String):Barite::B2File-instance-method" class="signature"><strong>#file</strong>(bucket_name : String, file_name : String) : Barite::B2File</a>
        
          <div class="summary"><p>Return a B2File object referencing the selected file in the named bucket.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#get_bucket_id(bucket_name)-instance-method" class="signature"><strong>#get_bucket_id</strong>(bucket_name)</a>
        
          <div class="summary"><p>Retrieve the bucket ID for a bucket name.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#get_upload_url(bucket_id)-instance-method" class="signature"><strong>#get_upload_url</strong>(bucket_id)</a>
        
          <div class="summary"><p>Retrieve an upload URL for a specific bucket.</p></div>
        
      </li>
    
  </ul>





<div class="methods-inherited">
  
    


    


    


  
    


    


    


  
</div>


  <h2>
    <a id="constructor-detail" class="anchor" href="#constructor-detail">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>
    Constructor Detail
  </h2>
  
    <div class="entry-detail" id="new(key_id:String,key:String)-class-method">
      <div class="signature">
        
        def self.<strong>new</strong>(key_id : String, key : String)

        <a class="method-permalink" href="#new(key_id:String,key:String)-class-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>Initialise with authentication keys.
The key_id and key are created from your Backblaze login. Ensure that this key has
the capabilities that you will need. For example the ability to read and/or write
files is the buckets that you'll be using.</p>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/gundy818/barite/blob/d524e282ebcee53426cad733c3c8a1ba02b73ca3/src/barite.cr#L30" target="_blank">View source</a>]
        
      </div>
    </div>
  





  <h2>
    <a id="instance-method-detail" class="anchor" href="#instance-method-detail">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>
    Instance Method Detail
  </h2>
  
    <div class="entry-detail" id="account_id:String-instance-method">
      <div class="signature">
        
        def <strong>account_id</strong> : String

        <a class="method-permalink" href="#account_id:String-instance-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>Retrieve the account_id.
Caches result on first access.</p>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/gundy818/barite/blob/d524e282ebcee53426cad733c3c8a1ba02b73ca3/src/barite.cr#L55" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="api_token:String-instance-method">
      <div class="signature">
        
        def <strong>api_token</strong> : String

        <a class="method-permalink" href="#api_token:String-instance-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>Retrieve the API token.
Caches the result on first access.</p>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/gundy818/barite/blob/d524e282ebcee53426cad733c3c8a1ba02b73ca3/src/barite.cr#L63" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="api_url:String-instance-method">
      <div class="signature">
        
        def <strong>api_url</strong> : String

        <a class="method-permalink" href="#api_url:String-instance-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>Retrieve the API URL.
Caches result on first access.</p>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/gundy818/barite/blob/d524e282ebcee53426cad733c3c8a1ba02b73ca3/src/barite.cr#L71" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="authorize_account-instance-method">
      <div class="signature">
        
        def <strong>authorize_account</strong>

        <a class="method-permalink" href="#authorize_account-instance-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>Access backblaze to authenticate.
Initialises @account_id, @api_url and @api_token on success.</p>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/gundy818/barite/blob/d524e282ebcee53426cad733c3c8a1ba02b73ca3/src/barite.cr#L35" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="file(bucket_name:String,file_name:String):Barite::B2File-instance-method">
      <div class="signature">
        
        def <strong>file</strong>(bucket_name : String, file_name : String) : <a href="../Barite/B2File.html">Barite::B2File</a>

        <a class="method-permalink" href="#file(bucket_name:String,file_name:String):Barite::B2File-instance-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>Return a B2File object referencing the selected file in the named bucket.</p>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/gundy818/barite/blob/d524e282ebcee53426cad733c3c8a1ba02b73ca3/src/barite.cr#L78" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="get_bucket_id(bucket_name)-instance-method">
      <div class="signature">
        
        def <strong>get_bucket_id</strong>(bucket_name)

        <a class="method-permalink" href="#get_bucket_id(bucket_name)-instance-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>Retrieve the bucket ID for a bucket name.</p>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/gundy818/barite/blob/d524e282ebcee53426cad733c3c8a1ba02b73ca3/src/barite.cr#L83" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="get_upload_url(bucket_id)-instance-method">
      <div class="signature">
        
        def <strong>get_upload_url</strong>(bucket_id)

        <a class="method-permalink" href="#get_upload_url(bucket_id)-instance-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>Retrieve an upload URL for a specific bucket.
Raises a Barite::NotFoundException on error.</p>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/gundy818/barite/blob/d524e282ebcee53426cad733c3c8a1ba02b73ca3/src/barite.cr#L109" target="_blank">View source</a>]
        
      </div>
    </div>
  




</div>

</body>
</html>
